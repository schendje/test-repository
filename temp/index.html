<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Temp</title>
<link rel="shortcut icon" href="static/favicon.ico">
<link rel="stylesheet" type="text/css" href="static/style.css" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script>
/*
$(document).ready(function($){
  $.getJSON("https://api.github.com/repos/schendje/test-repository/commits?path=files/drawing.png&callback=?", function(data){
    $(data.data).each(function(){
      $('body').append(this['commit']['message']+"<br>");
    });
  });
});*/

$(document).ready(function($){
  $.getJSON("https://api.github.com/repos/schendje/test-repository/contents?callback=?", function(data){
    $(data.data).each(function(){
      if(this['type']=="dir") {
        $('.sidebar').append("<a href='#'>"+this['path']+"</a>"+"<br>");
      } else if(this['type']=="file") {
        if(this['path'].substr(-4)==".png") {
          $('.sidebar').append("<a href='#' class='link' id='"+this['path']+"'>"+this['path']+"</a>"+"<br>");
        } else {
          $('.sidebar').append(this['path']+"<br>");
        }
      }
    });
    $(".link").click(function() {
      $('.main').html('<img src="https://raw.github.com/schendje/test-repository/master/'+$(this).attr('id')+'">');
    });
  });
});

</script>
</head>
<body>
<div class="main">
<img src="image.png" />
</div>
<div class="sidebar">
</div>
</body>
